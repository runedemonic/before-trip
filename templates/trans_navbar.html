{% load static %}
<!doctype html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>비포트립 :: 여행전날 체크하자</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/trans_navbar.css' %}">
    <link rel="stylesheet" href="{% static 'communities/css/style.css' %}">
    <link rel="shortcut icon" href="{% static 'img/fabicon.ico' %}">
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"/>

    {% block css %}{% endblock css %}

</head>

<body>
<header class="nav-bar d-flex align-items-center" style="z-index: 1;">
    <section class="container d-flex justify-content-between align-items-center" style="max-width: 732px">
        <h1>
            <a href="{% url 'countries:index' %}" style="text-decoration: none;" title="여행전날">여행전날</a>
        </h1>
        <div class="d-flex align-items-center">
            <a style="height: 24px;">
          <span class="material-symbols-outlined search-icn">
            search
          </span>
            </a>
            <ul class="large-menu px-1 align-items-center">
                <li>
                    <a href="{% url 'countries:index' %}" style="text-decoration: none; ">메인</a>
                </li>
                <li>
                    <a href="{% url 'communities:main' %}" style="text-decoration: none;">커뮤니티</a>

                </li>
                {% if request.user.is_authenticated %}
                    <li>
                        <div style="display: inline-block;">
                            <a class='d-flex' href="{% url 'accounts:detail' request.user.pk %}"
                               style='text-decoration-line:none;'>
                                <img src="{{ request.user.profile_image.url }}"
                                     style="width: 33px; height: 33px; border-radius: 10rem;"
                                     alt="{{ request.user.profile_image }}">
                                <!-- <p class="mb-0 ms-2 font-space">{{ request.user }}님</p> -->
                            </a>
                        </div>
                    </li>
                {% else %}
                    <li>
                        <a href="{% url 'accounts:login' %}" style='text-decoration:none;'>
                            로그인
                        </a>
                    </li>
                    <!-- <li> <a href="{% url 'accounts:signup' %}" class="font-space text-black" style='text-decoration:none;'> Signup </a> </li> -->
                {% endif %}

                <!-- {% if request.user.is_authenticated %} <li> <a href="{% url 'accounts:logout' %}
            " style='text-decoration:none;'>Logout</a> </li> {% endif %} -->
            </ul>

        </div>
        <div class="small-menu">
            <button class="search-icn2">검색</button>
            <button class="btn-menu">메뉴</button>
        </div>
    </section>
</header>
<div class="search-comp">
    <div class="search-inner">
        <div class="search-input">
            <form action="{% url 'communities:search' %}" method="">
                {% csrf_token %}
                <input type="text" name="keyword" placeholder="검색어를 입력해주세요.">
            </form>
            <!---->
        </div>
        <div class="search-bg">
            <div class="bg-dk">
                <div class="circle-group left">
                    <svg viewbox="0 0 600 600" width="600" height="600">
                        <defs>
                            <lineargradient id="circle-gradient03">
                                <stop offset="0%" stop-color="#fff" stop-opacity="1"></stop>
                                <stop offset="50%" stop-color="#f2f3f9" stop-opacity="1"></stop>
                            </lineargradient>
                        </defs>
                        <rect width="600" height="600" fill="url(#circle-gradient03)" rx="300"></rect>
                    </svg>
                </div>
                <div class="circle-group right">
                    <svg viewbox="0 0 600 600" width="600" height="600">
                        <defs>
                            <lineargradient id="circle-gradient04">
                                <stop offset="0%" stop-color="#fff" stop-opacity="1"></stop>
                                <stop offset="50%" stop-color="#f2f3f9" stop-opacity="1"></stop>
                            </lineargradient>
                        </defs>
                        <rect width="600" height="600" fill="url(#circle-gradient04)" rx="300"></rect>
                    </svg>
                </div>
            </div>
            <div class="bg-lt">
                <div class="circle-group left">
                    <svg viewbox="0 0 600 600" width="600" height="600">
                        <defs>
                            <lineargradient id="circle-gradient03">
                                <stop offset="0%" stop-color="#fff" stop-opacity="1"></stop>
                                <stop offset="50%" stop-color="#f2f3f9" stop-opacity="1"></stop>
                            </lineargradient>
                        </defs>
                        <rect width="600" height="600" fill="url(#circle-gradient03)" rx="300"></rect>
                    </svg>
                </div>
                <div class="circle-group right">
                    <svg viewbox="0 0 600 600" width="600" height="600">
                        <defs>
                            <lineargradient id="circle-gradient04">
                                <stop offset="0%" stop-color="#fff" stop-opacity="1"></stop>
                                <stop offset="50%" stop-color="#f2f3f9" stop-opacity="1"></stop>
                            </lineargradient>
                        </defs>
                        <rect width="600" height="600" fill="url(#circle-gradient04)" rx="300"></rect>
                    </svg>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay"></div>
</div>
<div class="mobile-search-comp" style="height: 180px; box-shadow: 10px 20px 30px 0 rgb(92 95 112 / 10%)">
    <div class="search-inner">
        <div class="search-input">
            <form action="{% url 'communities:search' %}" method="">
                {% csrf_token %}
                <input type="text" name="keyword" placeholder="검색어를 입력해주세요.">
            </form>
            <!---->
        </div>
        <div class="search-bg">
            <div class="bg-dk">
                <div class="circle-group left">
                    <svg viewbox="0 0 600 600" width="600" height="600">
                        <defs>
                            <lineargradient id="circle-gradient03">
                                <stop offset="0%" stop-color="#fff" stop-opacity="1"></stop>
                                <stop offset="50%" stop-color="#f2f3f9" stop-opacity="1"></stop>
                            </lineargradient>
                        </defs>
                        <rect width="600" height="600" fill="url(#circle-gradient03)" rx="300"></rect>
                    </svg>
                </div>
                <div class="circle-group right">
                    <svg viewbox="0 0 600 600" width="600" height="600">
                        <defs>
                            <lineargradient id="circle-gradient04">
                                <stop offset="0%" stop-color="#fff" stop-opacity="1"></stop>
                                <stop offset="50%" stop-color="#f2f3f9" stop-opacity="1"></stop>
                            </lineargradient>
                        </defs>
                        <rect width="600" height="600" fill="url(#circle-gradient04)" rx="300"></rect>
                    </svg>
                </div>
            </div>
            <div class="bg-lt">
                <div class="circle-group left">
                    <svg viewbox="0 0 600 600" width="600" height="600">
                        <defs>
                            <lineargradient id="circle-gradient03">
                                <stop offset="0%" stop-color="#fff" stop-opacity="1"></stop>
                                <stop offset="50%" stop-color="#f2f3f9" stop-opacity="1"></stop>
                            </lineargradient>
                        </defs>
                        <rect width="600" height="600" fill="url(#circle-gradient03)" rx="300"></rect>
                    </svg>
                </div>
                <div class="circle-group right">
                    <svg viewbox="0 0 600 600" width="600" height="600">
                        <defs>
                            <lineargradient id="circle-gradient04">
                                <stop offset="0%" stop-color="#fff" stop-opacity="1"></stop>
                                <stop offset="50%" stop-color="#f2f3f9" stop-opacity="1"></stop>
                            </lineargradient>
                        </defs>
                        <rect width="600" height="600" fill="url(#circle-gradient04)" rx="300"></rect>
                    </svg>
                </div>
            </div>
        </div>
    </div>
</div>
<ul class="list-group">
    <li class="list-group-item">
        <a href="{% url 'countries:index' %}" style="text-decoration: none; color: rgb(51, 51, 51)">메인<a/>
    </li>
    <li class="list-group-item">
        {% if request.resolver_match.url_name == 'main' %}
            <a href="{% url 'communities:main' %}" style="text-decoration: none; color: rgb(51, 51, 51)">커뮤니티</a>
        {% endif %}
        <div class="accordion" id="accordionPanelsStayOpenExample">
            <div class="accordion-item">
                <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                            data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="false"
                            aria-controls="panelsStayOpen-collapseOne">
                        커뮤니티
                    </button>
                    <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse"
                         aria-labelledby="panelsStayOpen-headingOne">
                        <div class="accordion-body">
                            <a href="" id="link-1">후기</a>
                            <hr>
                            <a href="" id="link-2">꿀팁</a>
                            <hr>
                            <a href="" id="link-3">피드</a>
                        </div>
                    </div>
            </div>
        </div>
    </li>
    <li class="list-group-item">내 스케쥴</li>
</ul>

{% block body %}{% endblock %}

<footer style="margin-top:32px; background-color: rgb(230, 232, 234); padding: 30px">
    <p
            style="font-size: 11px; font-weight: 400; color: rgba(0, 0, 0, 0.3); max-width: 400px; margin: 0 auto; line-height: 19px; text-align: center;">
        본 사이트에서 제공하는 방역수칙 정보는 대한민국 질병관리청 및 관련 부처 보도자료, 언론 기사 등을 토대로 업데이트 되지만, 개인이 취합한 내용이므로 정보의 정확성에 대해 책임질 수 없으며, 공식적인
        근거
        자료로 활용될 수 없습니다. 본 사이트에서 제공하는 내용의 인용과 사용에 대한 책임은 전적으로 인용자 및 사용자에게 있음을 알립니다.
    </p>
    <p
            style="font-size: 11px; font-weight: 600; color: rgba(0, 0, 0, 0.5); margin: 0 auto; max-width:400px; text-align: center; margin-top: 10px;">
        BY 여행전날</p>
</footer>

<script>
    // 검색모달
    document
        .querySelector('.search-icn')
        .addEventListener('click', function () {
            document
                .querySelector('.search-comp')
                .classList
                .add('is--open')
        })

    document
        .querySelector('.modal-overlay')
        .addEventListener('click', function () {
            document
                .querySelector('.search-comp')
                .classList
                .remove('is--open')
        })
</script>

<script src="https://code.jquery.com/jquery-1.8.0.js" integrity="sha256-00Fh8tkPAe+EmVaHFpD+HovxWk7b97qwqVi7nLvjdgs="
        crossorigin="anonymous"></script>
<script type="text/javascript">
    $(window).on('load', function () {
        $("#load").hide();
    });
    window.onpageshow = function (e) {
        if (e.persisted) {
            //페이지가 로드 되면 로딩 화면을 없애주는 것
            document.getElementById('load').style.display = 'none';
        }
    }
</script>

<style type="text/css">
    #load {
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        position: fixed;
        display: block;
        opacity: 0.8;
        background: white;
        z-index: 99;
        text-align: center;
    }

    #load > img {
        position: absolute;
        top: 50%;
        left: 50%;
        z-index: 100;
    }
</style>
<div id="load">
    <img src="{% static 'images/loading.gif' %}" alt="loading">
</div>
<script>
    // 반응형 햄버거 메뉴 제거
    window.onresize = function () {
        const width = window.innerWidth;

        if (width >= 1024) {
            document
                .querySelector('.list-group')
                .classList
                .remove('show')
        }
    }
</script>
<script>
    // 햄버거 메뉴 토글
    document
        .querySelector('.btn-menu')
        .addEventListener('click', function () {
            document
                .querySelector('.list-group')
                .classList
                .toggle('show')
        })
</script>
<script>
    // 스크롤 시 헤더 색상 변경
    const header = document.querySelector('header');

    window.onscroll = function () {
        let top = window.scrollY;
        if (top >= 20) {
            header
                .classList
                .add('scroll')
        } else {
            header
                .classList
                .remove('scroll');
        }
    }
</script>

<script>
    // 현재 url에서 국가코드 뽑아오는 함수
    const urlPath = new URL(location.href).href
    // console.log(urlPath.slice(0, 37))
    const url = urlPath.slice(0, 37)

    document.addEventListener("DOMContentLoaded", function () {
        const link1 = document.querySelector('#link-1')
        const link2 = document.querySelector('#link-2')
        const link3 = document.querySelector('#link-3')
        link1.href = url + 'review/'
        link2.href = url + 'advice/'
        link3.href = url + 'feed/'
        // link1.href = urlPath

    })
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
</body>

</html>